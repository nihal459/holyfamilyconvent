{% extends 'base.html' %}
{% block content %}
{% load static %}

<style>
    .card-hover {
        transition: transform 0.3s ease;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    .card-hover:hover {
        transform: scale(1.05);
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
    }
    .news-title {
        text-decoration: underline;
        margin-bottom: 1.5rem;
    }
    .announcement-list {
        list-style-type: disc;
        padding-left: 20px;
    }
    .announcement-list li a {
        color: #333;
        text-decoration: none;
        font-weight: bold;
    }
    .announcement-list li a:hover {
        color: #007bff;
    }
    .ad-image {
        width: 100%;
        height: 581px;
        object-fit: cover;
    }
    .carousel-inner {
        height: 100%;
    }
    .carousel-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    .hover-btn-new.orange {
        display: inline-block;
        padding: 10px 20px;
        background: #f28c38;
        color: #fff;
        text-decoration: none;
        border-radius: 5px;
        transition: background 0.3s;
    }
    .hover-btn-new.orange:hover {
        background: #e07b30;
    }
    .modal-content {
        background: transparent;
        border: none;
    }
    .modal-body {
        padding: 0;
        position: relative;
    }
    .modal-body .close {
        position: absolute;
        top: 10px;
        right: 15px;
        font-size: 30px;
        color: #fff;
        opacity: 0.8;
        z-index: 1000;
    }
    .modal-body img {
        width: 100%;
        height: auto;
        max-height: 80vh;
        object-fit: contain;
    }
    /* Responsive adjustments */
    @media (max-width: 768px) {
        .carousel-item img {
            height: 300px;
        }
        .card-hover {
            min-height: 450px !important;
            max-height: 450px !important;
        }
        .ad-image {
            height: 300px;
        }
    }
    @media (max-width: 576px) {
        .carousel-item img {
            height: 300px;
        }
        .card-hover {
            min-height: 450px !important;
            max-height: 450px !important;
        }
        .ad-image {
            height: 300px;
        }
    }
</style>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<div id="carouselExampleControls" class="carousel slide bs-slider box-slider" data-ride="carousel" data-pause="hover" data-interval="false" >
    <!-- Indicators -->
    <ol class="carousel-indicators">
        <li data-target="#carouselExampleControls" data-slide-to="0" class="active"></li>
        <li data-target="#carouselExampleControls" data-slide-to="1"></li>
        <li data-target="#carouselExampleControls" data-slide-to="2"></li>
    </ol>
    <div class="carousel-inner" role="listbox">
        <div class="carousel-item active">
            <div id="home" class="first-section" style="background-image:url('{% static 'images/school/banner.jpg' %}');">
                <div class="dtab">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-12 col-sm-12 text-center">
                                <div class="big-tagline">
                                    <h2 style="margin-bottom:40px;"><strong>Holy Family Convent</strong> School</h2>
                                    <p class="lead">Educating the mind without educating the heart is no education at all</p>
                                    <a href="{% url 'view_contact' %}" class="hover-btn-new"><span>Contact Us</span></a>
                                </div>
                            </div>
                        </div><!-- end row -->            
                    </div><!-- end container -->
                </div>
            </div><!-- end section -->
        </div>
        <div class="carousel-item">
            <div id="home" class="first-section" style="background-image:url('{% static 'images/school/banner2.jpg' %}');">
                <div class="dtab">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-12 col-sm-12 text-center">
                                <div class="big-tagline">
                                    <h2 data-animation="animated zoomInRight" style="margin-bottom:40px;">Holy Family Convent <strong> School</strong></h2>
                                    <p class="lead" data-animation="animated fadeInLeft">Learning today, leading tomorrow</p>
                                    <a href="{% url 'view_contact' %}" class="hover-btn-new"><span>Contact Us</span></a>
                                </div>
                            </div>
                        </div><!-- end row -->            
                    </div><!-- end container -->
                </div>
            </div><!-- end section -->
        </div>
        <div class="carousel-item">
            <div id="home" class="first-section" style="background-image:url('{% static 'images/slider-02.jpg' %}');">
                <div class="dtab">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-12 col-sm-12 text-center">
                                <div class="big-tagline">
                                    <h2 data-animation="animated zoomInRight" style="margin-bottom:40px;"><strong>Holy Family Convent</strong> School</h2>
                                    <p class="lead" data-animation="animated fadeInLeft">With Godâ€™s grace, every child can shine
                                        </p>
                                    <a href="{% url 'view_contact' %}" class="hover-btn-new"><span>Contact Us</span></a>
                                </div>
                            </div>
                        </div><!-- end row -->            
                    </div><!-- end container -->
                </div>
            </div><!-- end section -->
        </div>
        <!-- Left Control -->
        <a class="new-effect carousel-control-prev main-carousel" href="#carouselExampleControls" role="button" data-slide="prev">
            <span class="fa fa-angle-left" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>

        <!-- Right Control -->
        <a class="new-effect carousel-control-next main-carousel" href="#carouselExampleControls" role="button" data-slide="next">
            <span class="fa fa-angle-right" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
</div>

<div class="container my-5">
    <div class="row">
        <!-- News and Announcements Section -->
        <div class="col-lg-6 col-md-12 mb-4">
            <div class="card card-hover p-4" style="min-height:668px; max-height:668px;">
                <h3 class="news-title">News and Announcements</h3>
                <ul class="announcement-list">
                    {% for news in latest_news %}
                    <li>
                        <a href="">{{ news.title }}</a>
                    </li>
                    {% endfor %}
                </ul>
                <div class="text-center mt-4">
                    <a href="{% url 'view_announcements' %}" class="btn btn-primary">View More</a>
                </div>
            </div>
        </div>

        <!-- Advertisement Section with Carousel -->
        <div class="col-lg-6 col-md-12 mb-4">
            <div class="card card-hover p-4" style="max-height:668px; min-height:668px;">
                <h3 class="news-title">Advertisement</h3>
                {% if banner %}
                <div id="adCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="2500">
                    <!-- Indicators -->
                    <div class="carousel-indicators">
                        {% if banner.image1 %}
                        <button type="button" data-bs-target="#adCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                        {% endif %}
                        {% if banner.image2 %}
                        <button type="button" data-bs-target="#adCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
                        {% endif %}
                        {% if banner.image3 %}
                        <button type="button" data-bs-target="#adCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
                        {% endif %}
                    </div>

                    <!-- Slides -->
                    <div class="carousel-inner">
                        {% if banner.image1 %}
                        <div class="carousel-item active">
                            <img src="{{ banner.image1.url }}" class="d-block w-100 ad-image" alt="Ad 1" data-bs-toggle="modal" data-bs-target="#adModal" data-img-src="{{ banner.image1.url }}" style="max-height: 550px;">
                        </div>
                        {% endif %}
                        {% if banner.image2 %}
                        <div class="carousel-item">
                            <img src="{{ banner.image2.url }}" class="d-block w-100 ad-image" alt="Ad 2" data-bs-toggle="modal" data-bs-target="#adModal" data-img-src="{{ banner.image2.url }}" style="max-height: 550px;">
                        </div>
                        {% endif %}
                        {% if banner.image3 %}
                        <div class="carousel-item">
                            <img src="{{ banner.image3.url }}" class="d-block w-100 ad-image" alt="Ad 3" data-bs-toggle="modal" data-bs-target="#adModal" data-img-src="{{ banner.image3.url }}" style="max-height: 550px;">
                        </div>
                        {% endif %}
                    </div>

                    <!-- Optional Controls (Previous/Next arrows) -->
                    <button class="carousel-control-prev" type="button" data-bs-target="#adCarousel" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#adCarousel" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
                {% endif %}
            </div>
        </div>
    </div>

    <!-- Modal for enlarged ad images -->
    <div class="modal fade" id="adModal" tabindex="-1" aria-labelledby="adModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-body">
                    <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <div id="adModalCarousel" class="carousel slide" data-bs-interval="false">
                        <div class="carousel-inner">
                            {% if banner.image1 %}
                            <div class="carousel-item active">
                                <img src="{{ banner.image1.url }}" class="d-block w-100" alt="Ad 1" >
                            </div>
                            {% endif %}
                            {% if banner.image2 %}
                            <div class="carousel-item">
                                <img src="{{ banner.image2.url }}" class="d-block w-100" alt="Ad 2">
                            </div>
                            {% endif %}
                            {% if banner.image3 %}
                            <div class="carousel-item">
                                <img src="{{ banner.image3.url }}" class="d-block w-100" alt="Ad 3"  >
                            </div>
                            {% endif %}
                        </div>
                        <!-- Modal carousel controls -->
                        <button class="carousel-control-prev" type="button" data-bs-target="#adModalCarousel" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon bg-dark" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#adModalCarousel" data-bs-slide="next">
                            <span class="carousel-control-next-icon bg-dark" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- JavaScript for dynamic ad modal carousel -->
<script>
    $(document).ready(function() {
        $('#adCarousel .carousel-item img').click(function() {
            var index = $(this).parent().index();
            $('#adModalCarousel .carousel-item').removeClass('active');
            $('#adModalCarousel .carousel-item').eq(index).addClass('active');
        });
    });
</script>

<div id="overviews" class="section wb">
    <div class="container">
        <div class="section-title row text-center">
            <div class="col-md-8 offset-md-2">
                <h3>About</h3>
                <p class="lead">Lorem Ipsum dolroin gravida nibh vel velit auctor aliquet. Aenean sollicitudin, lorem quis bibendum auctor, nisi elit consequat ipsum, nec sagittis sem!</p>
            </div>
        </div><!-- end title -->
    
        <div class="row align-items-center">
            <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                <div class="message-box">
                    <h4>2025 BEST SmartEDU education school</h4>
                    <h2>Welcome to SmartEDU education school</h2>
                    <p>Quisque eget nisl id nulla sagittis auctor quis id. Aliquam quis vehicula enim, non aliquam risus. Sed a tellus quis mi rhoncus dignissim.</p>
                    <p> Integer rutrum ligula eu dignissim laoreet. Pellentesque venenatis nibh sed tellus faucibus bibendum. Sed fermentum est vitae rhoncus molestie. Cum sociis natoque penatibus et magnis montes, nascetur ridiculus mus. Sed vitae rutrum neque. </p>
                    <a href="about.html" class="hover-btn-new orange"><span>Learn More</span></a>
                </div><!-- end messagebox -->
            </div><!-- end col -->
            <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                <div class="post-media wow fadeIn">
                    <img src="{% static 'images/school/abt1.png' %}" alt="" class="img-fluid img-rounded">
                </div><!-- end media -->
            </div><!-- end col -->
        </div>
        <div class="row align-items-center">
            <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                <div class="post-media wow fadeIn">
                    <img src="{% static 'images/school/abt3.jpg' %}" alt="" class="img-fluid img-rounded">
                </div><!-- end media -->
            </div><!-- end col -->
            <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                <div class="message-box">
                    <h2>The standard Lorem Ipsum passage, used since the 1500s</h2>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                    <p> Integer rutrum ligula eu dignissim laoreet. Pellentesque venenatis nibh sed tellus faucibus bibendum.</p>
                    <a href="about.html" class="hover-btn-new orange"><span>Learn More</span></a>
                </div><!-- end messagebox -->
            </div><!-- end col -->
        </div><!-- end row -->
    </div><!-- end container -->
</div><!-- end section -->

<section class="section lb page-section">
    <div class="container">
         <div class="section-title row text-center">
            <div class="col-md-8 offset-md-2">
                <h3>Our history</h3>
                <p class="lead">Lorem Ipsum dolroin gravida nibh vel velit auctor aliquet. Aenean sollicitudin, lorem quis bibendum auctor, nisi elit consequat ipsum, nec sagittis sem!</p>
            </div>
        </div><!-- end title -->
        <div class="timeline">
            <div class="timeline__wrap">
                <div class="timeline__items">
                    <div class="timeline__item">
                        <div class="timeline__content img-bg-04" style="background: url('{% static 'images/img-04.jpg' %}') no-repeat center; background-size: cover; position: relative; padding: 20px; color: #fff;">
                            <h2>2025</h2>
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer dignissim neque condimentum lacus dapibus. Lorem
                                ipsum dolor sit amet, consectetur adipiscing elit.</p>
                        </div>
                    </div>
                    <div class="timeline__item">
                        <div class="timeline__content img-bg-02" style="background: url('{% static 'images/img-02.jpg' %}') no-repeat center; background-size: cover; position: relative; padding: 20px; color: #fff;">
                            <h2>2024</h2>
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer dignissim neque condimentum lacus dapibus. Lorem
                                ipsum dolor sit amet, consectetur adipiscing elit.</p>
                        </div>
                    </div>
                    <div class="timeline__item">
                        <div class="timeline__content img-bg-03" style="background: url('{% static 'images/img-03.jpg' %}') no-repeat center; background-size: cover; position: relative; padding: 20px; color: #fff;">
                            <h2>2023</h2>
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer dignissim neque condimentum lacus dapibus. Lorem
                                ipsum dolor sit amet, consectetur adipiscing elit.</p>
                        </div>
                    </div>
                    <div class="timeline__item">
                        <div class="timeline__content img-bg-04" style="background: url('{% static 'images/img-04.jpg' %}') no-repeat center; background-size: cover; position: relative; padding: 20px; color: #fff;">
                            <h2>2022</h2>
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer dignissim neque condimentum lacus dapibus. Lorem
                                ipsum dolor sit amet, consectetur adipiscing elit.</p>
                        </div>
                    </div>
                    <div class="timeline__item">
                        <div class="timeline__content img-bg-01" style="background: url('{% static 'images/img-01.jpg' %}') no-repeat center; background-size: cover; position: relative; padding: 20px; color: #fff;">
                            <h2>2021</h2>
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer dignissim neque condimentum lacus dapibus. Lorem
                                ipsum dolor sit amet, consectetur adipiscing elit.</p>
                        </div>
                    </div>
                    <div class="timeline__item">
                        <div class="timeline__content img-bg-02" style="background: url('{% static 'images/img-02.jpg' %}') no-repeat center; background-size: cover; position: relative; padding: 20px; color: #fff;">
                            <h2>2020</h2>
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer dignissim neque condimentum lacus dapibus. Lorem
                                ipsum dolor sit amet, consectetur adipiscing elit.</p>
                        </div>
                    </div>
                    <div class="timeline__item">
                        <div class="timeline__content img-bg-03" style="background: url('{% static 'images/img-03.jpg' %}') no-repeat center; background-size: cover; position: relative; padding: 20px; color: #fff;">
                            <h2>2019</h2>
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer dignissim neque condimentum lacus dapibus. Lorem
                                ipsum dolor sit amet, consectetur adipiscing elit.</p>
                        </div>
                    </div>
                    <div class="timeline__item">
                        <div class="timeline__content img-bg-04" style="background: url('{% static 'images/img-04.jpg' %}') no-repeat center; background-size: cover; position: relative; padding: 20px; color: #fff;">
                            <h2>2018</h2>
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer dignissim neque condimentum lacus dapibus. Lorem
                                ipsum dolor sit amet, consectetur adipiscing elit.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<div class="section cl">
    <div class="container">
        <div class="row text-left stat-wrap">
            <div class="col-md-4 col-sm-4 col-xs-12">
                <span data-scroll class="global-radius icon_wrap effect-1 alignleft"><i class="flaticon-study"></i></span>
                <p class="stat_count">12000</p>
                <h3>Students</h3>
            </div><!-- end col -->

            <div class="col-md-4 col-sm-4 col-xs-12">
                <span data-scroll class="global-radius icon_wrap effect-1 alignleft"><i class="flaticon-online"></i></span>
                <p class="stat_count">100</p>
                <h3>Teachers</h3>
            </div><!-- end col -->

            <div class="col-md-4 col-sm-4 col-xs-12">
                <span data-scroll class="global-radius icon_wrap effect-1 alignleft"><i class="flaticon-years"></i></span>
                <p class="stat_count">25</p>
                <h3>Years Completed</h3>
            </div><!-- end col -->
        </div><!-- end row -->
    </div><!-- end container -->
</div><!-- end section -->

<div id="gallery" class="section lb">
    <div class="container">
        <div class="section-title text-center">
            <h3>Our Gallery</h3>
            <p>Explore our collection of stunning images showcasing our work and achievements.</p>
        </div>

        <!-- Carousel -->
        {% if gallery_items %}
        <div id="galleryCarousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">
                {% for item in gallery_items %}
                <div class="carousel-item {% if forloop.first %}active{% endif %}">
                    <img src="{{ item.image.url }}" class="d-block w-80" alt="{{ item.title }}"
                         data-bs-toggle="modal" data-bs-target="#imageModal" data-img-src="{{ item.image.url }}" style="height:500px; object-fit:contain;">
                </div>
                {% endfor %}
            </div>

            <a class="carousel-control-prev" href="#galleryCarousel" role="button" data-bs-slide="prev">
                <span class="carousel-control-prev-icon bg-dark" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </a>
            <a class="carousel-control-next" href="#galleryCarousel" role="button" data-bs-slide="next">
                <span class="carousel-control-next-icon bg-dark" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </a>
        </div>

        <div class="text-center mt-4">
            <a href="{% url 'view_gallery' %}" class="hover-btn-new orange"><span>View More</span></a>
        </div>
        {% endif %}

        <!-- Modal for enlarged images -->
        <div class="modal fade" id="imageModal" tabindex="-1" aria-labelledby="imageModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-body">
                        <div id="modalCarousel" class="carousel slide" data-bs-interval="false">
                            <div class="carousel-inner">
                                <!-- Modal items populated dynamically -->
                            </div>
                            <a class="carousel-control-prev" href="#modalCarousel" role="button" data-bs-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Previous</span>
                            </a>
                            <a class="carousel-control-next" href="#modalCarousel" role="button" data-bs-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Next</span>
                            </a>
                        </div>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                                style="position:absolute;top:10px;right:15px;"></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- JavaScript for dynamic modal carousel -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const galleryItems = document.querySelectorAll('#galleryCarousel .carousel-item img');
        const modalInner = document.querySelector('#modalCarousel .carousel-inner');

        // Populate modal items
        modalInner.innerHTML = '';
        galleryItems.forEach((img, index) => {
            const src = img.getAttribute('data-img-src');
            const alt = img.getAttribute('alt');
            const isActive = index === 0 ? 'active' : '';
            modalInner.innerHTML += `
                <div class="carousel-item ${isActive}">
                    <img src="${src}" class="d-block w-100" alt="${alt}">
                </div>
            `;
        });

        // Update active image in modal when one is clicked
        galleryItems.forEach((img, index) => {
            img.addEventListener('click', () => {
                const items = document.querySelectorAll('#modalCarousel .carousel-item');
                items.forEach(item => item.classList.remove('active'));
                if (items[index]) {
                    items[index].classList.add('active');
                }
            });
        });
    });

</script>





<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

{% endblock %}